{"ast":null,"code":"import _taggedTemplateLiteral from \"@babel/runtime/helpers/esm/taggedTemplateLiteral\";\nvar _templateObject,\n  _this = this,\n  _jsxFileName = \"C:\\\\Users\\\\geanm\\\\Downloads\\\\crmcliente\\\\crmcliente\\\\components\\\\Header.js\";\nvar __jsx = React.createElement;\nimport React from 'react';\nimport { useQuery, gql } from '@apollo/client';\nimport { useRouter } from 'next/router';\nvar OBTENER_USUARIO = gql(_templateObject || (_templateObject = _taggedTemplateLiteral([\"\\n    query obtenerUsuario{\\n        obtenerUsuario {\\n            id\\n            nombre\\n            apellido\\n        }\\n    }\\n\"])));\nvar Header = function Header() {\n  var router = useRouter();\n\n  // query de apollo\n  var _useQuery = useQuery(OBTENER_USUARIO),\n    data = _useQuery.data,\n    loading = _useQuery.loading,\n    error = _useQuery.error;\n\n  // console.log(data)\n  // console.log(loading)\n  // console.log(error)\n\n  // Proteger que no accedamos a data antes de tener resultados\n  if (loading) return null;\n\n  // Si no hay informacion\n  if (!data) {\n    return router.push('/login');\n  }\n  var _data$obtenerUsuario = data.obtenerUsuario,\n    nombre = _data$obtenerUsuario.nombre,\n    apellido = _data$obtenerUsuario.apellido;\n  var cerrarSesion = function cerrarSesion() {\n    localStorage.removeItem('token');\n    router.push('/login');\n  };\n  return __jsx(\"div\", {\n    className: \"sm:flex sm:justify-between mb-6\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 9\n    }\n  }, __jsx(\"p\", {\n    className: \"mr-2 mb-5 lg:mb-0\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 13\n    }\n  }, \"Hola: \", nombre, \" \", apellido), __jsx(\"button\", {\n    onClick: function onClick() {\n      return cerrarSesion();\n    },\n    type: \"button\",\n    className: \"bg-blue-800 w-full sm:w-auto font-bold uppercase text-xs rounded py-1 px-2 text-white shadow-md\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 13\n    }\n  }, \"Cerrar Sesi\\xF3n\"));\n};\nexport default Header;","map":{"version":3,"names":["React","useQuery","gql","useRouter","OBTENER_USUARIO","_templateObject","_taggedTemplateLiteral","Header","router","_useQuery","data","loading","error","push","_data$obtenerUsuario","obtenerUsuario","nombre","apellido","cerrarSesion","localStorage","removeItem","__jsx","className","__self","_this","__source","fileName","_jsxFileName","lineNumber","columnNumber","onClick","type"],"sources":["C:/Users/geanm/Downloads/crmcliente/crmcliente/components/Header.js"],"sourcesContent":["import React from 'react';\nimport { useQuery, gql } from '@apollo/client'\nimport { useRouter } from 'next/router';\n\nconst OBTENER_USUARIO = gql`\n    query obtenerUsuario{\n        obtenerUsuario {\n            id\n            nombre\n            apellido\n        }\n    }\n`;\n\nconst Header = () => {\n\n    const router = useRouter();\n\n    // query de apollo\n    const { data, loading, error} = useQuery(OBTENER_USUARIO);\n\n    // console.log(data)\n    // console.log(loading)\n    // console.log(error)\n\n    // Proteger que no accedamos a data antes de tener resultados\n    if(loading) return null;\n\n    // Si no hay informacion\n    if(!data) {\n        return router.push('/login');\n    }\n\n    const { nombre, apellido } = data.obtenerUsuario;\n\n    const cerrarSesion = () => {\n        localStorage.removeItem('token');\n        router.push('/login');\n    }\n\n    return ( \n        <div className=\"sm:flex sm:justify-between mb-6\">\n            <p className=\"mr-2 mb-5 lg:mb-0\">Hola: {nombre} {apellido}</p>\n\n            <button \n                onClick={() => cerrarSesion() }\n                type=\"button\"\n                className=\"bg-blue-800 w-full sm:w-auto font-bold uppercase text-xs rounded py-1 px-2 text-white shadow-md\"    \n            >\n                Cerrar Sesi√≥n\n            </button>\n        </div>\n        \n     );\n}\n \nexport default Header;"],"mappings":";;;;;AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,QAAQ,EAAEC,GAAG,QAAQ,gBAAgB;AAC9C,SAASC,SAAS,QAAQ,aAAa;AAEvC,IAAMC,eAAe,GAAGF,GAAG,CAAAG,eAAA,KAAAA,eAAA,GAAAC,sBAAA,2IAQ1B;AAED,IAAMC,MAAM,GAAG,SAATA,MAAMA,CAAA,EAAS;EAEjB,IAAMC,MAAM,GAAGL,SAAS,CAAC,CAAC;;EAE1B;EACA,IAAAM,SAAA,GAAgCR,QAAQ,CAACG,eAAe,CAAC;IAAjDM,IAAI,GAAAD,SAAA,CAAJC,IAAI;IAAEC,OAAO,GAAAF,SAAA,CAAPE,OAAO;IAAEC,KAAK,GAAAH,SAAA,CAALG,KAAK;;EAE5B;EACA;EACA;;EAEA;EACA,IAAGD,OAAO,EAAE,OAAO,IAAI;;EAEvB;EACA,IAAG,CAACD,IAAI,EAAE;IACN,OAAOF,MAAM,CAACK,IAAI,CAAC,QAAQ,CAAC;EAChC;EAEA,IAAAC,oBAAA,GAA6BJ,IAAI,CAACK,cAAc;IAAxCC,MAAM,GAAAF,oBAAA,CAANE,MAAM;IAAEC,QAAQ,GAAAH,oBAAA,CAARG,QAAQ;EAExB,IAAMC,YAAY,GAAG,SAAfA,YAAYA,CAAA,EAAS;IACvBC,YAAY,CAACC,UAAU,CAAC,OAAO,CAAC;IAChCZ,MAAM,CAACK,IAAI,CAAC,QAAQ,CAAC;EACzB,CAAC;EAED,OACIQ,KAAA;IAAKC,SAAS,EAAC,iCAAiC;IAAAC,MAAA,EAAAC,KAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAC5CR,KAAA;IAAGC,SAAS,EAAC,mBAAmB;IAAAC,MAAA,EAAAC,KAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,aAAQb,MAAM,OAAGC,QAAY,CAAC,EAE9DI,KAAA;IACIS,OAAO,EAAE,SAATA,OAAOA,CAAA;MAAA,OAAQZ,YAAY,CAAC,CAAC;IAAA,CAAE;IAC/Ba,IAAI,EAAC,QAAQ;IACbT,SAAS,EAAC,iGAAiG;IAAAC,MAAA,EAAAC,KAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,qBAGvG,CACP,CAAC;AAGd,CAAC;AAED,eAAetB,MAAM","ignoreList":[]},"metadata":{},"sourceType":"module"}