{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\geanm\\\\Downloads\\\\crmcliente\\\\crmcliente\\\\components\\\\Cliente.js\";\nvar __jsx = React.createElement;\nimport React from 'react';\nimport Swal from 'sweetalert2';\nimport { gql, useMutation } from '@apollo/client';\nimport Router from 'next/router';\nconst ELIMINAR_CLIENTE = gql`\n    mutation eliminarCliente($id: ID!) {\n        eliminarCliente(id:$id) \n    }\n`;\nconst OBTENER_CLIENTES_USUARIO = gql`\n    query obtenerClientesVendedor {\n        obtenerClientesVendedor {\n            id\n            nombre\n            apellido\n            empresa\n            email\n        }\n    }\n\n`;\nconst Cliente = ({\n  cliente\n}) => {\n  // mutation para eliminar cliente\n  const [eliminarCliente] = useMutation(ELIMINAR_CLIENTE, {\n    update(cache) {\n      // obtener una copia del objeto de cache\n      const {\n        obtenerClientesVendedor\n      } = cache.readQuery({\n        query: OBTENER_CLIENTES_USUARIO\n      });\n\n      // Reescribir el cache\n      cache.writeQuery({\n        query: OBTENER_CLIENTES_USUARIO,\n        data: {\n          obtenerClientesVendedor: obtenerClientesVendedor.filter(clienteActual => clienteActual.id !== id)\n        }\n      });\n    }\n  });\n  const {\n    nombre,\n    apellido,\n    empresa,\n    email,\n    id\n  } = cliente;\n\n  // Elimina un cliente\n  const confirmarEliminarCliente = () => {\n    Swal.fire({\n      title: '¿Deseas eliminar a este cliente?',\n      text: \"Esta acción no se puede deshacer\",\n      icon: 'warning',\n      showCancelButton: true,\n      confirmButtonColor: '#3085d6',\n      cancelButtonColor: '#d33',\n      confirmButtonText: 'Si, Eliminar',\n      cancelButtonText: 'No, Cancelar'\n    }).then(async result => {\n      if (result.value) {\n        try {\n          // Eliminar por ID\n          const {\n            data\n          } = await eliminarCliente({\n            variables: {\n              id\n            }\n          });\n          // console.log(data);\n\n          // Mostrar una alerta\n          Swal.fire('Eliminado!', data.eliminarCliente, 'success');\n        } catch (error) {\n          console.log(error);\n        }\n      }\n    });\n  };\n  const editarCliente = () => {\n    Router.push({\n      pathname: \"/editarcliente/[id]\",\n      query: {\n        id\n      }\n    });\n  };\n  return __jsx(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 13\n    }\n  }, __jsx(\"td\", {\n    className: \"border px-4 py-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 17\n    }\n  }, nombre, \"  \", apellido), __jsx(\"td\", {\n    className: \"border px-4 py-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 17\n    }\n  }, empresa), __jsx(\"td\", {\n    className: \"border px-4 py-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 17\n    }\n  }, email), __jsx(\"td\", {\n    className: \"border px-4 py-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 17\n    }\n  }, __jsx(\"button\", {\n    type: \"button\",\n    className: \"flex justify-center items-center bg-red-800 py-2 px-4 w-full text-white rounded text-xs uppercase font-bold\",\n    onClick: () => confirmarEliminarCliente(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 21\n    }\n  }, \"Eliminar\", __jsx(\"svg\", {\n    fill: \"none\",\n    stroke: \"currentColor\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    strokeWidth: \"2\",\n    viewBox: \"0 0 24 24\",\n    className: \"w-4 h-4 ml-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 25\n    }\n  }, __jsx(\"path\", {\n    d: \"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 170\n    }\n  })))), __jsx(\"td\", {\n    className: \"border px-4 py-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 17\n    }\n  }, __jsx(\"button\", {\n    type: \"button\",\n    className: \"flex justify-center items-center bg-green-600 py-2 px-4 w-full text-white rounded text-xs uppercase font-bold\",\n    onClick: () => editarCliente(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 21\n    }\n  }, \"Editar\", __jsx(\"svg\", {\n    fill: \"none\",\n    stroke: \"currentColor\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    strokeWidth: \"2\",\n    viewBox: \"0 0 24 24\",\n    className: \"w-4 h-4 ml-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 25\n    }\n  }, __jsx(\"path\", {\n    d: \"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 170\n    }\n  })))));\n};\nexport default Cliente;","map":{"version":3,"names":["React","Swal","gql","useMutation","Router","ELIMINAR_CLIENTE","OBTENER_CLIENTES_USUARIO","Cliente","cliente","eliminarCliente","update","cache","obtenerClientesVendedor","readQuery","query","writeQuery","data","filter","clienteActual","id","nombre","apellido","empresa","email","confirmarEliminarCliente","fire","title","text","icon","showCancelButton","confirmButtonColor","cancelButtonColor","confirmButtonText","cancelButtonText","then","result","value","variables","error","console","log","editarCliente","push","pathname","__jsx","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","className","type","onClick","fill","stroke","strokeLinecap","strokeLinejoin","strokeWidth","viewBox","d"],"sources":["C:/Users/geanm/Downloads/crmcliente/crmcliente/components/Cliente.js"],"sourcesContent":["import React from 'react';\nimport Swal from 'sweetalert2';\nimport { gql, useMutation } from '@apollo/client'\nimport Router from 'next/router'\n\nconst ELIMINAR_CLIENTE = gql`\n    mutation eliminarCliente($id: ID!) {\n        eliminarCliente(id:$id) \n    }\n`;\n\nconst OBTENER_CLIENTES_USUARIO = gql`\n    query obtenerClientesVendedor {\n        obtenerClientesVendedor {\n            id\n            nombre\n            apellido\n            empresa\n            email\n        }\n    }\n\n`;\n\n\nconst Cliente = ({cliente}) => {\n\n    // mutation para eliminar cliente\n    const [ eliminarCliente ] = useMutation( ELIMINAR_CLIENTE, {\n        update(cache) {\n            // obtener una copia del objeto de cache\n            const { obtenerClientesVendedor } = cache.readQuery({ query: OBTENER_CLIENTES_USUARIO });\n\n            // Reescribir el cache\n            cache.writeQuery({\n                query: OBTENER_CLIENTES_USUARIO,\n                data: {\n                    obtenerClientesVendedor : obtenerClientesVendedor.filter( clienteActual => clienteActual.id !== id )\n                }\n            })\n        }\n    }  );\n\n    const { nombre, apellido, empresa, email, id } = cliente;\n\n\n    // Elimina un cliente\n    const confirmarEliminarCliente = () => {\n        Swal.fire({\n            title: '¿Deseas eliminar a este cliente?',\n            text: \"Esta acción no se puede deshacer\",\n            icon: 'warning',\n            showCancelButton: true,\n            confirmButtonColor: '#3085d6',\n            cancelButtonColor: '#d33',\n            confirmButtonText: 'Si, Eliminar',\n            cancelButtonText: 'No, Cancelar'\n          }).then( async (result) => {\n            if (result.value) {\n\n                try {\n                    // Eliminar por ID\n                    const { data } = await eliminarCliente({\n                        variables: {\n                            id\n                        }\n                    });\n                    // console.log(data);\n\n                    // Mostrar una alerta\n                    Swal.fire(\n                        'Eliminado!',\n                        data.eliminarCliente,\n                        'success'\n                    )\n                } catch (error) {\n                    console.log(error);\n                }\n            }\n          })\n    }\n\n    const editarCliente = () => {\n        Router.push({\n            pathname: \"/editarcliente/[id]\",\n            query: { id }\n        })\n    }\n\n    return ( \n            <tr>\n                <td className=\"border px-4 py-2\">{nombre}  {apellido}</td>\n                <td className=\"border px-4 py-2\">{empresa}</td>\n                <td className=\"border px-4 py-2\">{email}</td>\n                <td className=\"border px-4 py-2\">\n                    <button\n                        type=\"button\"\n                        className=\"flex justify-center items-center bg-red-800 py-2 px-4 w-full text-white rounded text-xs uppercase font-bold\"\n                        onClick={() => confirmarEliminarCliente() }\n                    >\n                        Eliminar\n\n                        <svg fill=\"none\" stroke=\"currentColor\" strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" viewBox=\"0 0 24 24\" className=\"w-4 h-4 ml-2\"><path d=\"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z\"></path></svg>\n                    </button>\n                </td>\n                <td className=\"border px-4 py-2\">\n                    <button\n                        type=\"button\"\n                        className=\"flex justify-center items-center bg-green-600 py-2 px-4 w-full text-white rounded text-xs uppercase font-bold\"\n                        onClick={() => editarCliente() }\n                    >\n                        Editar\n\n                        <svg fill=\"none\" stroke=\"currentColor\" strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" viewBox=\"0 0 24 24\" className=\"w-4 h-4 ml-2\"><path d=\"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z\"></path></svg>\n                    </button>\n                </td>\n            </tr>\n     );\n}\n \nexport default Cliente;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}